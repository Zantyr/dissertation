
% Default to the notebook output style

    


% Inherit from the specified cell style.




    
\documentclass[11pt]{article}

    
    
    \usepackage[T1]{fontenc}
    % Nicer default font than Computer Modern for most use cases
    \usepackage{palatino}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    

    
    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \renewcommand\appendixname{Dodatek}
    \appendix
\setcounter{page}{53}
    

    % Pygments definitions
    
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}



    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

    \begin{document}
    \appendix
    \setcounter{section}{1}
    \section{EDA}\label{eda}
    
This document was created by iPython Jupyter software, therefore formatting may differ from the rest of the document.
    

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{o}{\PYZpc{}}\PY{k}{matplotlib} inline 
        \PY{k+kn}{from} \PY{n+nn}{\PYZus{}\PYZus{}future\PYZus{}\PYZus{}} \PY{k+kn}{import} \PY{n}{print\PYZus{}function}
\end{Verbatim}

The goal of this EDA is to extract a datasource required to fit the
classifier in the application. Also, different classifying methods will
be described. In this chapter the output and taken steps will be cutted
to absolute minimum, as the full EDA output could easily take tens of
pages.

{Load and describe the
dataset}\label{load-and-describe-the-dataset}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{k+kn}{from} \PY{n+nn}{sklearn.cluster} \PY{k+kn}{import} \PY{n}{KMeans}
        \PY{k+kn}{import} \PY{n+nn}{matplotlib.pyplot} \PY{k+kn}{as} \PY{n+nn}{plt}
        \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k+kn}{as} \PY{n+nn}{pd}
        \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k+kn}{as} \PY{n+nn}{np}
        
        \PY{k}{def} \PY{n+nf}{try\PYZus{}to\PYZus{}numerify}\PY{p}{(}\PY{n}{x}\PY{p}{)}\PY{p}{:}
            \PY{k}{try}\PY{p}{:}
                \PY{k}{return} \PY{n+nb}{int}\PY{p}{(}\PY{n}{x}\PY{p}{)}
            \PY{k}{except}\PY{p}{:}
                \PY{k}{try}\PY{p}{:}
                    \PY{k}{return} \PY{n+nb}{float}\PY{p}{(}\PY{n}{x}\PY{p}{)}
                \PY{k}{except}\PY{p}{:}
                    \PY{k}{return} \PY{n}{x}
        
        \PY{k}{def} \PY{n+nf}{loader}\PY{p}{(}\PY{n}{filename}\PY{p}{,}\PY{n}{separator}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+se}{\PYZbs{}t}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{nan}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZhy{}1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{:}
            \PY{k}{with} \PY{n+nb}{open}\PY{p}{(}\PY{n}{filename}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{r}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{k}{as} \PY{n}{f}\PY{p}{:}
                \PY{n}{rows} \PY{o}{=} \PY{p}{[}\PY{n}{x} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n}{f}\PY{o}{.}\PY{n}{read}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{k}{if} \PY{n}{x}\PY{p}{]}
            \PY{n}{rows} \PY{o}{=} \PY{p}{[}\PY{n}{x}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{n}{separator}\PY{p}{)} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n}{rows}\PY{p}{]}
            \PY{n}{colnames} \PY{o}{=} \PY{n}{rows}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}
            \PY{n}{data} \PY{o}{=} \PY{n}{rows}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}
            \PY{n}{data} \PY{o}{=} \PY{p}{[}\PY{p}{[}\PY{n}{try\PYZus{}to\PYZus{}numerify}\PY{p}{(}\PY{n}{x}\PY{p}{)} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n}{row}\PY{p}{]} \PY{k}{for} \PY{n}{row} \PY{o+ow}{in} \PY{n}{data}\PY{p}{]}
            \PY{k}{return} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{data}\PY{p}{,}\PY{n}{columns}\PY{o}{=}\PY{n}{colnames}\PY{p}{)}
        
        \PY{n}{df} \PY{o}{=} \PY{n}{loader}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{src/static/qviz.tsv}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{np}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{n}{df}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{transpose}\PY{p}{(}\PY{p}{)}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{)}
\end{Verbatim}

            \begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}2}]:}                  count       mean          std  min   25\%    50\%    75\%  \textbackslash{}
        implementation  8855.0       1.76         0.43  1.0   2.0    2.0    2.0   
        R1              8855.0       2.42         1.30 -1.0   1.0    2.0    3.0   
        R2              8855.0       2.16         1.24 -1.0   1.0    2.0    3.0   
        R3              8855.0       1.77         1.17 -1.0   1.0    1.0    2.0   
        R4              8855.0       2.26         1.33 -1.0   1.0    2.0    3.0   
        R5              8855.0       1.66         1.06 -1.0   1.0    1.0    2.0   
        R6              8855.0       2.32         1.32 -1.0   1.0    2.0    3.0   
        R7              8855.0       1.90         1.14 -1.0   1.0    2.0    3.0   
        R8              8855.0       1.96         1.18 -1.0   1.0    2.0    3.0   
        I1              8855.0       3.43         1.31 -1.0   3.0    4.0    4.0   
        I2              8855.0       3.34         1.35 -1.0   2.0    4.0    4.0   
        I3              8855.0       3.08         1.41 -1.0   2.0    3.0    4.0   
        I4              8855.0       2.93         1.41 -1.0   2.0    3.0    4.0   
        I5              8855.0       2.87         1.41 -1.0   2.0    3.0    4.0   
        I6              8855.0       3.00         1.40 -1.0   2.0    3.0    4.0   
        I7              8855.0       2.71         1.38 -1.0   1.0    3.0    4.0   
        I8              8855.0       2.61         1.42 -1.0   1.0    3.0    4.0   
        A1              8855.0       2.51         1.39 -1.0   1.0    2.0    4.0   
        A2              8855.0       2.81         1.44 -1.0   1.0    3.0    4.0   
        A3              8855.0       3.06         1.44 -1.0   2.0    3.0    4.0   
        A4              8855.0       3.03         1.46 -1.0   2.0    3.0    4.0   
        A5              8855.0       3.23         1.50 -1.0   2.0    4.0    5.0   
        A6              8855.0       3.30         1.44 -1.0   2.0    4.0    5.0   
        A7              8855.0       2.69         1.47 -1.0   1.0    3.0    4.0   
        A8              8855.0       2.88         1.43 -1.0   2.0    3.0    4.0   
        S1              8855.0       3.34         1.35 -1.0   2.0    4.0    4.0   
        S2              8855.0       3.45         1.26 -1.0   3.0    4.0    4.0   
        S3              8855.0       3.01         1.39 -1.0   2.0    3.0    4.0   
        S4              8855.0       2.95         1.37 -1.0   2.0    3.0    4.0   
        S5              8855.0       3.30         1.39 -1.0   2.0    4.0    4.0   
        S6              8855.0       2.84         1.39 -1.0   2.0    3.0    4.0   
        S7              8855.0       3.12         1.36 -1.0   2.0    3.0    4.0   
        S8              8855.0       2.56         1.31 -1.0   1.0    3.0    4.0   
        E1              8855.0       1.99         1.17 -1.0   1.0    2.0    3.0   
        E2              8855.0       2.19         1.18 -1.0   1.0    2.0    3.0   
        E3              8855.0       2.69         1.32 -1.0   2.0    3.0    4.0   
        E4              8855.0       2.20         1.24 -1.0   1.0    2.0    3.0   
        E5              8855.0       2.84         1.38 -1.0   2.0    3.0    4.0   
        E6              8855.0       2.45         1.28 -1.0   1.0    2.0    3.0   
        E7              8855.0       2.28         1.27 -1.0   1.0    2.0    3.0   
        E8              8855.0       2.64         1.35 -1.0   1.0    3.0    4.0   
        C1              8855.0       2.10         1.23 -1.0   1.0    2.0    3.0   
        C2              8855.0       2.30         1.23 -1.0   1.0    2.0    3.0   
        C3              8855.0       2.27         1.27 -1.0   1.0    2.0    3.0   
        C4              8855.0       2.29         1.25 -1.0   1.0    2.0    3.0   
        C5              8855.0       2.48         1.37 -1.0   1.0    2.0    4.0   
        C6              8855.0       2.64         1.29 -1.0   1.0    3.0    4.0   
        C7              8855.0       2.06         1.17 -1.0   1.0    2.0    3.0   
        C8              8855.0       2.13         1.19 -1.0   1.0    2.0    3.0   
        accuracy        8855.0  242581.98  22821047.21 -1.0  23.0   85.0   95.0   
        elapse          8855.0     371.14      5994.37 -1.0  84.0  160.0  230.0   
        fromsearch      8855.0       0.42         0.49  0.0   0.0    0.0    1.0   
        gender          8855.0      -0.40         1.10 -1.0  -1.0   -1.0   -1.0   
        age             8855.0       6.89        15.47 -1.0  -1.0   -1.0   -1.0   
        
                                 max  
        implementation  2.000000e+00  
        R1              5.000000e+00  
        R2              5.000000e+00  
        R3              5.000000e+00  
        R4              5.000000e+00  
        R5              5.000000e+00  
        R6              5.000000e+00  
        R7              5.000000e+00  
        R8              5.000000e+00  
        I1              5.000000e+00  
        I2              5.000000e+00  
        I3              5.000000e+00  
        I4              5.000000e+00  
        I5              5.000000e+00  
        I6              5.000000e+00  
        I7              5.000000e+00  
        I8              5.000000e+00  
        A1              5.000000e+00  
        A2              5.000000e+00  
        A3              5.000000e+00  
        A4              5.000000e+00  
        A5              5.000000e+00  
        A6              5.000000e+00  
        A7              5.000000e+00  
        A8              5.000000e+00  
        S1              5.000000e+00  
        S2              5.000000e+00  
        S3              5.000000e+00  
        S4              5.000000e+00  
        S5              5.000000e+00  
        S6              5.000000e+00  
        S7              5.000000e+00  
        S8              5.000000e+00  
        E1              5.000000e+00  
        E2              5.000000e+00  
        E3              5.000000e+00  
        E4              5.000000e+00  
        E5              5.000000e+00  
        E6              5.000000e+00  
        E7              5.000000e+00  
        E8              5.000000e+00  
        C1              5.000000e+00  
        C2              5.000000e+00  
        C3              5.000000e+00  
        C4              5.000000e+00  
        C5              5.000000e+00  
        C6              5.000000e+00  
        C7              5.000000e+00  
        C8              5.000000e+00  
        accuracy        2.147484e+09  
        elapse          5.092960e+05  
        fromsearch      1.000000e+00  
        gender          3.000000e+00  
        age             1.000000e+02  
\end{Verbatim}
        
    There are several problems with the dataset: * accuracy and elapse have
exceptionally high deviation * implementation column is pointless for
the research * gender and age have very low mean(while for gender it
shouldn't be calculated, it means, there's a lot of -1 values, which
indicated lack of answer) * each question has at least one empty answer
(marked as -1)

{Cleansing and division}\label{cleansing-and-division}

The purpose of this action is to remove malformed entries. However,
requiring empty `age' and `gender' columns (-1) would severely reduce
amount of samples. For this reason, several datasets will be extracted,
and each will serve as a basis for further investigation. At the very
end, the conclusion will be drawn to create a final dataset.

Datasets created: * one with aggregated RIASEC measures and countries *
one containing the data with age and gender and disaggregated answers

{Geographic distribution
dataset}\label{geographic-distribution-dataset}

For creating the training set, samples with possible similarity to
Polish population would be desired. As the test was conducted on the
Internet, many nations are included, however some may prevail. This
research aims to cast light to that issue.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{c+c1}{\PYZsh{}filter the malformed entries from each dataset}
        \PY{n}{riasec} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{age}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{gender}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{fromsearch}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{accuracy}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{elapse}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{implementation}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{)}
        \PY{k}{for} \PY{n}{val} \PY{o+ow}{in} \PY{p}{[}\PY{n}{x}\PY{o}{+}\PY{n+nb}{str}\PY{p}{(}\PY{n}{y}\PY{p}{)} \PY{k}{for} \PY{n}{y} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{9}\PY{p}{)} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{RIASEC}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{:}
            \PY{n}{riasec} \PY{o}{=} \PY{n}{riasec}\PY{o}{.}\PY{n}{query}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZob{}0\PYZcb{}\PYZgt{}0 and \PYZob{}0\PYZcb{}\PYZlt{}6}\PY{l+s+s2}{\PYZdq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{val}\PY{p}{)}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{}construct the dataset}
        \PY{n}{riasec}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{R}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{riasec}\PY{o}{.}\PY{n}{R1} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{R2} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{R3} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{R4} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{R5} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{R6} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{R7} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{R8}\PY{p}{)}
        \PY{n}{riasec}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{I}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{riasec}\PY{o}{.}\PY{n}{I1} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{I2} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{I3} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{I4} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{I5} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{I6} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{I7} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{I8}\PY{p}{)}
        \PY{n}{riasec}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{A}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{riasec}\PY{o}{.}\PY{n}{A1} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{A2} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{A3} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{A4} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{A5} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{A6} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{A7} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{A8}\PY{p}{)}
        \PY{n}{riasec}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{S}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{riasec}\PY{o}{.}\PY{n}{S1} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{S2} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{S3} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{S4} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{S5} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{S6} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{S7} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{S8}\PY{p}{)}
        \PY{n}{riasec}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{E}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{riasec}\PY{o}{.}\PY{n}{E1} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{E2} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{E3} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{E4} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{E5} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{E6} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{E7} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{E8}\PY{p}{)}
        \PY{n}{riasec}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{C}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{riasec}\PY{o}{.}\PY{n}{C1} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{C2} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{C3} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{C4} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{C5} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{C6} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{C7} \PY{o}{+} \PY{n}{riasec}\PY{o}{.}\PY{n}{C8}\PY{p}{)}
        \PY{n}{riasec} \PY{o}{=} \PY{n}{riasec}\PY{o}{.}\PY{n}{select}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{x} \PY{o+ow}{in} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{R}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{I}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{A}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{S}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{E}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{C}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{country}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{)}
        \PY{n}{np}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{n}{riasec}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{p}{)}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{)}
\end{Verbatim}

            \begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}3}]:}              R        I        A        S        E        C
        count  7543.00  7543.00  7543.00  7543.00  7543.00  7543.00
        mean     16.70    24.30    23.89    24.79    19.58    18.53
        std       6.95     8.09     7.86     7.33     6.68     7.52
        min       8.00     8.00     8.00     8.00     8.00     8.00
        25\%      11.00    18.00    18.00    20.00    15.00    12.00
        50\%      16.00    25.00    24.00    25.00    19.00    18.00
        75\%      21.00    31.00    30.00    30.00    24.00    24.00
        max      40.00    40.00    40.00    40.00    40.00    40.00
\end{Verbatim}
        
    Let's group those records per country to see, what is the geographical
distribution of respondents. Also, classifying those countries may be
useful.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{n}{newriasec} \PY{o}{=} \PY{n}{riasec}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{country}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{select}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:}\PY{n}{x}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]} \PY{o+ow}{in} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mean}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
        \PY{n}{newriasec}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{names}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{u\PYZsq{}}\PY{l+s+s1}{country}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{u\PYZsq{}}\PY{l+s+s1}{statistic}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n}{newriasec} \PY{o}{=} \PY{n}{newriasec}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{statistic}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{pivot}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{statistic}\PY{l+s+s1}{\PYZsq{}}
                                                            \PY{p}{)}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{p}{[}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{A}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{]}\PY{p}{,}\PY{n}{ascending}\PY{o}{=}\PY{n+nb+bp}{False}\PY{p}{)}
        \PY{n}{newriasec}\PY{p}{[}\PY{l+s+s1}{u\PYZsq{}}\PY{l+s+s1}{Strength}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{newriasec}\PY{o}{.}\PY{n}{xs}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mean}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,}\PY{n}{level}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{statistic}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{idxmax}\PY{p}{(}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
        \PY{n}{np}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{n}{newriasec}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{50}\PY{p}{)}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{)}
\end{Verbatim}

            \begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}4}]:}                 A              C              E              I              R  \textbackslash{}
        statistic   count   mean   count   mean   count   mean   count   mean   count   
        country                                                                         
        US         4601.0  23.52  4601.0  18.40  4601.0  19.12  4601.0  24.26  4601.0   
        CA          524.0  23.64   524.0  18.99   524.0  19.42   524.0  24.06   524.0   
        GB          416.0  24.23   416.0  17.22   416.0  18.77   416.0  24.74   416.0   
        AU          287.0  23.59   287.0  18.76   287.0  19.66   287.0  25.00   287.0   
        MY          234.0  24.46   234.0  20.89   234.0  22.49   234.0  23.25   234.0   
        SG          107.0  23.39   107.0  19.21   107.0  22.84   107.0  23.39   107.0   
        IN           94.0  26.57    94.0  20.01    94.0  22.53    94.0  25.43    94.0   
        NZ           86.0  24.73    86.0  19.52    86.0  19.31    86.0  24.79    86.0   
        NL           65.0  26.25    65.0  15.29    65.0  19.82    65.0  24.37    65.0   
        DE           64.0  25.09    64.0  17.73    64.0  18.88    64.0  25.41    64.0   
        HK           62.0  25.98    62.0  19.65    62.0  23.48    62.0  24.02    62.0   
        IE           51.0  23.71    51.0  20.22    51.0  22.02    51.0  22.82    51.0   
        PH           44.0  25.80    44.0  21.55    44.0  23.75    44.0  24.07    44.0   
        ZA           40.0  24.20    40.0  15.98    40.0  17.75    40.0  25.92    40.0   
        FR           34.0  27.21    34.0  18.18    34.0  20.15    34.0  25.74    34.0   
        IT           34.0  27.35    34.0  18.09    34.0  21.50    34.0  26.06    34.0   
        OM           33.0  22.55    33.0  23.30    33.0  24.94    33.0  22.27    33.0   
        ES           31.0  26.52    31.0  17.71    31.0  19.55    31.0  26.84    31.0   
        ID           31.0  29.87    31.0  23.45    31.0  24.39    31.0  25.19    31.0   
        SE           31.0  21.42    31.0  18.29    31.0  17.94    31.0  22.35    31.0   
        CH           29.0  26.52    29.0  18.83    29.0  19.52    29.0  24.17    29.0   
        RO           27.0  24.85    27.0  18.30    27.0  20.41    27.0  23.56    27.0   
        SI           27.0  21.96    27.0  20.33    27.0  20.11    27.0  26.70    27.0   
        BE           26.0  26.69    26.0  14.65    26.0  18.73    26.0  24.38    26.0   
        BR           22.0  25.59    22.0  14.68    22.0  17.05    22.0  25.41    22.0   
        CN           21.0  26.10    21.0  14.86    21.0  21.90    21.0  23.67    21.0   
        PL           21.0  24.10    21.0  22.10    21.0  21.38    21.0  26.00    21.0   
        GR           20.0  25.10    20.0  18.15    20.0  20.05    20.0  25.00    20.0   
        FI           19.0  20.84    19.0  19.26    19.0  17.79    19.0  26.11    19.0   
        TH           19.0  23.37    19.0  23.16    19.0  25.21    19.0  19.89    19.0   
        TR           19.0  29.11    19.0  17.58    19.0  22.26    19.0  29.05    19.0   
        NO           16.0  23.25    16.0  17.44    16.0  18.25    16.0  26.50    16.0   
        CZ           16.0  28.19    16.0  18.75    16.0  21.94    16.0  23.56    16.0   
        EG           16.0  24.06    16.0  19.12    16.0  23.38    16.0  22.44    16.0   
        MX           15.0  25.67    15.0  20.53    15.0  21.60    15.0  26.67    15.0   
        KR           15.0  25.13    15.0  16.33    15.0  19.40    15.0  28.13    15.0   
        JP           13.0  21.23    13.0  16.00    13.0  18.54    13.0  24.31    13.0   
        PT           13.0  26.00    13.0  18.92    13.0  18.69    13.0  28.15    13.0   
        DK           13.0  24.69    13.0  13.31    13.0  15.85    13.0  23.54    13.0   
        AE           13.0  25.31    13.0  16.31    13.0  19.23    13.0  27.31    13.0   
        IL           12.0  25.17    12.0  16.08    12.0  17.33    12.0  25.58    12.0   
        HR           11.0  26.18    11.0  20.18    11.0  20.00    11.0  27.18    11.0   
        LB           11.0  22.55    11.0  20.64    11.0  20.82    11.0  25.18    11.0   
        AT           11.0  23.55    11.0  21.09    11.0  20.36    11.0  21.73    11.0   
        SA           10.0  20.70    10.0  20.30    10.0  20.00    10.0  23.40    10.0   
        JM           10.0  25.70    10.0  18.80    10.0  21.50    10.0  24.10    10.0   
        PK            9.0  25.89     9.0  17.67     9.0  19.78     9.0  24.44     9.0   
        IR            9.0  28.00     9.0  18.33     9.0  22.89     9.0  23.33     9.0   
        VN            8.0  27.25     8.0  17.38     8.0  21.38     8.0  22.38     8.0   
        CO            8.0  25.12     8.0  15.75     8.0  19.25     8.0  25.00     8.0   
        
                               S        Strength  
        statistic   mean   count   mean           
        country                                   
        US         16.56  4601.0  25.08        S  
        CA         16.65   524.0  23.71        I  
        GB         16.32   416.0  23.25        I  
        AU         16.23   287.0  23.88        I  
        MY         17.66   234.0  26.45        S  
        SG         16.99   107.0  25.12        S  
        IN         18.74    94.0  26.24        A  
        NZ         16.70    86.0  24.74        I  
        NL         14.80    65.0  25.82        A  
        DE         16.34    64.0  24.75        I  
        HK         17.15    62.0  26.39        S  
        IE         16.86    51.0  25.98        S  
        PH         18.86    44.0  25.18        A  
        ZA         17.12    40.0  22.30        I  
        FR         16.62    34.0  24.18        A  
        IT         16.74    34.0  24.26        A  
        OM         21.97    33.0  28.27        S  
        ES         15.35    31.0  26.10        I  
        ID         21.23    31.0  29.06        A  
        SE         16.90    31.0  19.52        I  
        CH         17.24    29.0  23.41        A  
        RO         16.07    27.0  22.89        A  
        SI         20.30    27.0  21.59        I  
        BE         13.42    26.0  25.46        A  
        BR         16.36    22.0  18.95        A  
        CN         16.90    21.0  26.05        A  
        PL         17.76    21.0  21.05        I  
        GR         17.25    20.0  23.90        A  
        FI         17.11    19.0  19.00        I  
        TH         18.11    19.0  26.21        S  
        TR         19.84    19.0  28.47        A  
        NO         17.38    16.0  24.44        I  
        CZ         16.62    16.0  23.88        A  
        EG         19.25    16.0  24.81        S  
        MX         18.47    15.0  23.00        I  
        KR         19.67    15.0  24.87        I  
        JP         18.23    13.0  24.08        I  
        PT         17.23    13.0  20.92        I  
        DK         15.08    13.0  23.38        A  
        AE         18.85    13.0  26.38        I  
        IL         18.58    12.0  26.58        S  
        HR         18.09    11.0  24.45        I  
        LB         17.82    11.0  24.91        I  
        AT         15.55    11.0  24.27        S  
        SA         19.00    10.0  25.20        S  
        JM         13.20    10.0  26.70        S  
        PK         17.78     9.0  28.78        S  
        IR         19.22     9.0  23.11        A  
        VN         14.88     8.0  25.25        A  
        CO         17.50     8.0  22.12        A  
\end{Verbatim}
        
    Let's take into account data from Europe only.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{c+c1}{\PYZsh{}TO ANALYZE: abbrevs of country names}
        \PY{n}{euro} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{AL}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{AD}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{AM}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{AT}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BY}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BA}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{BG}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{CH}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{CY}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{CZ}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DK}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{EE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ES}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FO}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FI}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{FR}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{GB}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{GE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{GI}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{GR}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{HU}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{HR}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{IE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{IS}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{IT}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{LT}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{LU}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{LV}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{MC}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{MK}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{MT}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NO}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NL}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{PO}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{PL}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{PT}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{RO}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{RU}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SI}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SK}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SM}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TR}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{UA}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{VA}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{n}{dfeu} \PY{o}{=} \PY{n}{newriasec}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{euro}\PY{p}{]}
        \PY{n}{dfeu} \PY{o}{=} \PY{n}{dfeu}\PY{p}{[}\PY{n}{dfeu}\PY{o}{.}\PY{n}{notnull}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]} \PY{c+c1}{\PYZsh{}filtering out NaNs (non\PYZhy{}existent records)}
        \PY{n}{dfeu}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{p}{[}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{A}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{]}\PY{p}{,}\PY{n}{ascending}\PY{o}{=}\PY{n+nb+bp}{False}\PY{p}{)}
\end{Verbatim}

            \begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}5}]:}                A                 C                 E                 I  \textbackslash{}
        statistic  count       mean  count       mean  count       mean  count   
        country                                                                  
        GB         416.0  24.230769  416.0  17.221154  416.0  18.766827  416.0   
        NL          65.0  26.246154   65.0  15.292308   65.0  19.815385   65.0   
        DE          64.0  25.093750   64.0  17.734375   64.0  18.875000   64.0   
        IE          51.0  23.705882   51.0  20.215686   51.0  22.019608   51.0   
        FR          34.0  27.205882   34.0  18.176471   34.0  20.147059   34.0   
        IT          34.0  27.352941   34.0  18.088235   34.0  21.500000   34.0   
        SE          31.0  21.419355   31.0  18.290323   31.0  17.935484   31.0   
        ES          31.0  26.516129   31.0  17.709677   31.0  19.548387   31.0   
        CH          29.0  26.517241   29.0  18.827586   29.0  19.517241   29.0   
        SI          27.0  21.962963   27.0  20.333333   27.0  20.111111   27.0   
        RO          27.0  24.851852   27.0  18.296296   27.0  20.407407   27.0   
        BE          26.0  26.692308   26.0  14.653846   26.0  18.730769   26.0   
        PL          21.0  24.095238   21.0  22.095238   21.0  21.380952   21.0   
        GR          20.0  25.100000   20.0  18.150000   20.0  20.050000   20.0   
        FI          19.0  20.842105   19.0  19.263158   19.0  17.789474   19.0   
        TR          19.0  29.105263   19.0  17.578947   19.0  22.263158   19.0   
        CZ          16.0  28.187500   16.0  18.750000   16.0  21.937500   16.0   
        NO          16.0  23.250000   16.0  17.437500   16.0  18.250000   16.0   
        PT          13.0  26.000000   13.0  18.923077   13.0  18.692308   13.0   
        DK          13.0  24.692308   13.0  13.307692   13.0  15.846154   13.0   
        HR          11.0  26.181818   11.0  20.181818   11.0  20.000000   11.0   
        AT          11.0  23.545455   11.0  21.090909   11.0  20.363636   11.0   
        BG           8.0  27.750000    8.0  17.125000    8.0  19.500000    8.0   
        RU           7.0  22.571429    7.0  19.285714    7.0  23.000000    7.0   
        SK           7.0  26.857143    7.0  19.000000    7.0  18.857143    7.0   
        AL           6.0  22.833333    6.0  20.166667    6.0  20.333333    6.0   
        HU           6.0  22.333333    6.0  21.000000    6.0  19.166667    6.0   
        LT           5.0  25.800000    5.0  12.600000    5.0  20.000000    5.0   
        EE           5.0  23.600000    5.0  22.200000    5.0  18.200000    5.0   
        CY           5.0  21.400000    5.0  18.600000    5.0  20.200000    5.0   
        MT           4.0  24.750000    4.0  10.750000    4.0  13.500000    4.0   
        LU           3.0  21.333333    3.0  20.000000    3.0  19.000000    3.0   
        BA           3.0  32.000000    3.0  19.666667    3.0  17.666667    3.0   
        UA           3.0  17.666667    3.0  22.666667    3.0  20.333333    3.0   
        LV           2.0  27.000000    2.0  16.500000    2.0  26.500000    2.0   
        IS           2.0  25.000000    2.0  15.500000    2.0  11.500000    2.0   
        BY           2.0  25.500000    2.0  16.500000    2.0  19.500000    2.0   
        MK           1.0  32.000000    1.0  25.000000    1.0  22.000000    1.0   
        
                                  R                 S            Strength  
        statistic       mean  count       mean  count       mean           
        country                                                            
        GB         24.737981  416.0  16.322115  416.0  23.250000        I  
        NL         24.369231   65.0  14.800000   65.0  25.815385        A  
        DE         25.406250   64.0  16.343750   64.0  24.750000        I  
        IE         22.823529   51.0  16.862745   51.0  25.980392        S  
        FR         25.735294   34.0  16.617647   34.0  24.176471        A  
        IT         26.058824   34.0  16.735294   34.0  24.264706        A  
        SE         22.354839   31.0  16.903226   31.0  19.516129        I  
        ES         26.838710   31.0  15.354839   31.0  26.096774        I  
        CH         24.172414   29.0  17.241379   29.0  23.413793        A  
        SI         26.703704   27.0  20.296296   27.0  21.592593        I  
        RO         23.555556   27.0  16.074074   27.0  22.888889        A  
        BE         24.384615   26.0  13.423077   26.0  25.461538        A  
        PL         26.000000   21.0  17.761905   21.0  21.047619        I  
        GR         25.000000   20.0  17.250000   20.0  23.900000        A  
        FI         26.105263   19.0  17.105263   19.0  19.000000        I  
        TR         29.052632   19.0  19.842105   19.0  28.473684        A  
        CZ         23.562500   16.0  16.625000   16.0  23.875000        A  
        NO         26.500000   16.0  17.375000   16.0  24.437500        I  
        PT         28.153846   13.0  17.230769   13.0  20.923077        I  
        DK         23.538462   13.0  15.076923   13.0  23.384615        A  
        HR         27.181818   11.0  18.090909   11.0  24.454545        I  
        AT         21.727273   11.0  15.545455   11.0  24.272727        S  
        BG         26.625000    8.0  17.375000    8.0  26.750000        A  
        RU         18.428571    7.0  18.428571    7.0  16.285714        E  
        SK         24.857143    7.0  18.000000    7.0  22.285714        A  
        AL         27.500000    6.0  13.833333    6.0  19.666667        I  
        HU         24.000000    6.0  13.000000    6.0  20.166667        I  
        LT         18.600000    5.0  15.800000    5.0  21.400000        A  
        EE         29.400000    5.0  17.400000    5.0  19.000000        I  
        CY         18.400000    5.0  11.600000    5.0  20.000000        A  
        MT         26.000000    4.0  12.250000    4.0  25.750000        I  
        LU         20.333333    3.0  15.000000    3.0  22.000000        S  
        BA         31.000000    3.0  21.666667    3.0  32.666667        S  
        UA         27.333333    3.0  14.666667    3.0  21.666667        I  
        LV         15.500000    2.0  15.500000    2.0  25.000000        A  
        IS         25.500000    2.0  17.000000    2.0  16.500000        I  
        BY         35.000000    2.0  13.500000    2.0  25.500000        I  
        MK         26.000000    1.0  30.000000    1.0  27.000000        A  
\end{Verbatim}
        
    Unfortunately, Polish respondent contribute to a statistically
insignificant sample (sample size less than 30), which would not
describe the population well. Moreover, samples of this order would
produce inaccurate classifications. To tackle this, a dataset with
countries similar to Poland may be created. Fortunately, Investigative
is a common choice among european respondents. With the next dataset, we
will delve into age and gender profiles of countries.

{Age and gender dataset}\label{age-and-gender-dataset}

First step into analysing age and gender relations within the group is
to remove entries with garbled values. Since the amount of records
without disclosed age is high, we will use both data with and without
disclosed information, hence creating four datasets: for each
combination of presence and absence of gender or age data. Age histogram
will be plotted.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{n}{with\PYZus{}age} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{query}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age \PYZgt{} \PYZhy{}1 and age \PYZlt{} 100 and not (gender \PYZgt{} 0 and gender \PYZlt{} 3)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{with\PYZus{}gender} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{query}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{gender \PYZgt{} 0 and gender \PYZlt{} 3 and not (age \PYZgt{} \PYZhy{}1 and age \PYZlt{} 100)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{with\PYZus{}age\PYZus{}and\PYZus{}gender} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{query}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age \PYZgt{} \PYZhy{}1 and age \PYZlt{} 100 and gender \PYZgt{} 0 and gender \PYZlt{} 3}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{unspecified} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{query}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{not (age \PYZgt{} \PYZhy{}1 and age \PYZlt{} 100) and not (gender \PYZgt{} 0 and gender \PYZlt{} 3)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n+nb}{map}\PY{p}{(}\PY{n+nb}{len}\PY{p}{,}\PY{p}{(}\PY{n}{with\PYZus{}age}\PY{p}{,}\PY{n}{with\PYZus{}gender}\PY{p}{,}\PY{n}{with\PYZus{}age\PYZus{}and\PYZus{}gender}\PY{p}{,}\PY{n}{unspecified}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

            \begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}6}]:} [18, 15, 2093, 6729]
\end{Verbatim}
        
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{k+kn}{import} \PY{n+nn}{matplotlib.pyplot} \PY{k+kn}{as} \PY{n+nn}{plt}
        
        \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}
        \PY{n}{with\PYZus{}age\PYZus{}and\PYZus{}gender}\PY{o}{.}\PY{n}{select}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:}\PY{n}{x} \PY{o+ow}{in} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{gender}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{kind}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hist}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n+nb}{range}\PY{o}{=}\PY{p}{[}\PY{l+m+mf}{1.0}\PY{p}{,} \PY{l+m+mf}{2.0}\PY{p}{]}\PY{p}{,}\PY{n}{bins}\PY{o}{=}\PY{l+m+mi}{2}\PY{p}{)}
        \PY{n}{with\PYZus{}age\PYZus{}and\PYZus{}gender}\PY{o}{.}\PY{n}{select}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:}\PY{n}{x} \PY{o+ow}{in} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{kind}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hist}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{bins}\PY{o}{=}\PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,}\PY{l+m+mi}{100}\PY{p}{)}\PY{p}{)}
        \PY{n}{with\PYZus{}age\PYZus{}and\PYZus{}gender}\PY{o}{.}\PY{n}{select}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:}\PY{n}{x} \PY{o+ow}{in} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{kind}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{hist}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{bins}\PY{o}{=}\PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,}\PY{l+m+mi}{100}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{)}\PY{p}{)}
        
        
        \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

    
    \begin{verbatim}
<matplotlib.figure.Figure at 0x7fcf58e9c3d0>
    \end{verbatim}

    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{EDA_files/EDA_11_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{EDA_files/EDA_11_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{EDA_files/EDA_11_3.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    For set with genders, we will group the dataset by them. For age,
categories will be created, for range (10-100) for each 6 years. For
each of those groups, we will create a spider plot to represent their
profiles. Radar charts are not accessible by themselves, hence custom
code has to be used. The code in the cell below is an example from
matplotlib API and is used as is. Source:
``http://matplotlib.org/examples/api/radar\_chart.html''

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{l+s+sd}{\PYZdq{}\PYZdq{}\PYZdq{}}
        \PY{l+s+sd}{======================================}
        \PY{l+s+sd}{Radar chart (aka spider or star chart)}
        \PY{l+s+sd}{======================================}
        
        \PY{l+s+sd}{This example creates a radar chart, also known as a spider or star chart [1]\PYZus{}.}
        
        \PY{l+s+sd}{Although this example allows a frame of either \PYZsq{}circle\PYZsq{} or \PYZsq{}polygon\PYZsq{}, polygon}
        \PY{l+s+sd}{frames don\PYZsq{}t have proper gridlines (the lines are circles instead of polygons).}
        \PY{l+s+sd}{It\PYZsq{}s possible to get a polygon grid by setting GRIDLINE\PYZus{}INTERPOLATION\PYZus{}STEPS in}
        \PY{l+s+sd}{matplotlib.axis to the desired number of vertices, but the orientation of the}
        \PY{l+s+sd}{polygon is not aligned with the radial axes.}
        
        \PY{l+s+sd}{.. [1] http://en.wikipedia.org/wiki/Radar\PYZus{}chart}
        \PY{l+s+sd}{\PYZdq{}\PYZdq{}\PYZdq{}}
        \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k+kn}{as} \PY{n+nn}{np}
        
        \PY{k+kn}{import} \PY{n+nn}{matplotlib.pyplot} \PY{k+kn}{as} \PY{n+nn}{plt}
        \PY{k+kn}{from} \PY{n+nn}{matplotlib.path} \PY{k+kn}{import} \PY{n}{Path}
        \PY{k+kn}{from} \PY{n+nn}{matplotlib.spines} \PY{k+kn}{import} \PY{n}{Spine}
        \PY{k+kn}{from} \PY{n+nn}{matplotlib.projections.polar} \PY{k+kn}{import} \PY{n}{PolarAxes}
        \PY{k+kn}{from} \PY{n+nn}{matplotlib.projections} \PY{k+kn}{import} \PY{n}{register\PYZus{}projection}
        
        
        \PY{k}{def} \PY{n+nf}{radar\PYZus{}factory}\PY{p}{(}\PY{n}{num\PYZus{}vars}\PY{p}{,} \PY{n}{frame}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{circle}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{:}
            \PY{l+s+sd}{\PYZdq{}\PYZdq{}\PYZdq{}Create a radar chart with `num\PYZus{}vars` axes.}
        
        \PY{l+s+sd}{    This function creates a RadarAxes projection and registers it.}
        
        \PY{l+s+sd}{    Parameters}
        \PY{l+s+sd}{    \PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}}
        \PY{l+s+sd}{    num\PYZus{}vars : int}
        \PY{l+s+sd}{        Number of variables for radar chart.}
        \PY{l+s+sd}{    frame : \PYZob{}\PYZsq{}circle\PYZsq{} | \PYZsq{}polygon\PYZsq{}\PYZcb{}}
        \PY{l+s+sd}{        Shape of frame surrounding axes.}
        
        \PY{l+s+sd}{    \PYZdq{}\PYZdq{}\PYZdq{}}
            \PY{c+c1}{\PYZsh{} calculate evenly\PYZhy{}spaced axis angles}
            \PY{n}{theta} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{linspace}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{2}\PY{o}{*}\PY{n}{np}\PY{o}{.}\PY{n}{pi}\PY{p}{,} \PY{n}{num\PYZus{}vars}\PY{p}{,} \PY{n}{endpoint}\PY{o}{=}\PY{n+nb+bp}{False}\PY{p}{)}
            \PY{c+c1}{\PYZsh{} rotate theta such that the first axis is at the top}
            \PY{n}{theta} \PY{o}{+}\PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{pi}\PY{o}{/}\PY{l+m+mi}{2}
        
            \PY{k}{def} \PY{n+nf}{draw\PYZus{}poly\PYZus{}patch}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{)}\PY{p}{:}
                \PY{n}{verts} \PY{o}{=} \PY{n}{unit\PYZus{}poly\PYZus{}verts}\PY{p}{(}\PY{n}{theta}\PY{p}{)}
                \PY{k}{return} \PY{n}{plt}\PY{o}{.}\PY{n}{Polygon}\PY{p}{(}\PY{n}{verts}\PY{p}{,} \PY{n}{closed}\PY{o}{=}\PY{n+nb+bp}{True}\PY{p}{,} \PY{n}{edgecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{k}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
            \PY{k}{def} \PY{n+nf}{draw\PYZus{}circle\PYZus{}patch}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{)}\PY{p}{:}
                \PY{c+c1}{\PYZsh{} unit circle centered on (0.5, 0.5)}
                \PY{k}{return} \PY{n}{plt}\PY{o}{.}\PY{n}{Circle}\PY{p}{(}\PY{p}{(}\PY{l+m+mf}{0.5}\PY{p}{,} \PY{l+m+mf}{0.5}\PY{p}{)}\PY{p}{,} \PY{l+m+mf}{0.5}\PY{p}{)}
        
            \PY{n}{patch\PYZus{}dict} \PY{o}{=} \PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{polygon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{draw\PYZus{}poly\PYZus{}patch}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{circle}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{draw\PYZus{}circle\PYZus{}patch}\PY{p}{\PYZcb{}}
            \PY{k}{if} \PY{n}{frame} \PY{o+ow}{not} \PY{o+ow}{in} \PY{n}{patch\PYZus{}dict}\PY{p}{:}
                \PY{k}{raise} \PY{n+ne}{ValueError}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{unknown value for `frame`: }\PY{l+s+si}{\PYZpc{}s}\PY{l+s+s1}{\PYZsq{}} \PY{o}{\PYZpc{}} \PY{n}{frame}\PY{p}{)}
        
            \PY{k}{class} \PY{n+nc}{RadarAxes}\PY{p}{(}\PY{n}{PolarAxes}\PY{p}{)}\PY{p}{:}
        
                \PY{n}{name} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{radar}\PY{l+s+s1}{\PYZsq{}}
                \PY{c+c1}{\PYZsh{} use 1 line segment to connect specified points}
                \PY{n}{RESOLUTION} \PY{o}{=} \PY{l+m+mi}{1}
                \PY{c+c1}{\PYZsh{} define draw\PYZus{}frame method}
                \PY{n}{draw\PYZus{}patch} \PY{o}{=} \PY{n}{patch\PYZus{}dict}\PY{p}{[}\PY{n}{frame}\PY{p}{]}
        
                \PY{k}{def} \PY{n+nf}{fill}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{o}{*}\PY{n}{args}\PY{p}{,} \PY{o}{*}\PY{o}{*}\PY{n}{kwargs}\PY{p}{)}\PY{p}{:}
                    \PY{l+s+sd}{\PYZdq{}\PYZdq{}\PYZdq{}Override fill so that line is closed by default\PYZdq{}\PYZdq{}\PYZdq{}}
                    \PY{n}{closed} \PY{o}{=} \PY{n}{kwargs}\PY{o}{.}\PY{n}{pop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{closed}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n+nb+bp}{True}\PY{p}{)}
                    \PY{k}{return} \PY{n+nb}{super}\PY{p}{(}\PY{n}{RadarAxes}\PY{p}{,} \PY{n+nb+bp}{self}\PY{p}{)}\PY{o}{.}\PY{n}{fill}\PY{p}{(}\PY{n}{closed}\PY{o}{=}\PY{n}{closed}\PY{p}{,} \PY{o}{*}\PY{n}{args}\PY{p}{,} \PY{o}{*}\PY{o}{*}\PY{n}{kwargs}\PY{p}{)}
        
                \PY{k}{def} \PY{n+nf}{plot}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{o}{*}\PY{n}{args}\PY{p}{,} \PY{o}{*}\PY{o}{*}\PY{n}{kwargs}\PY{p}{)}\PY{p}{:}
                    \PY{l+s+sd}{\PYZdq{}\PYZdq{}\PYZdq{}Override plot so that line is closed by default\PYZdq{}\PYZdq{}\PYZdq{}}
                    \PY{n}{lines} \PY{o}{=} \PY{n+nb}{super}\PY{p}{(}\PY{n}{RadarAxes}\PY{p}{,} \PY{n+nb+bp}{self}\PY{p}{)}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{o}{*}\PY{n}{args}\PY{p}{,} \PY{o}{*}\PY{o}{*}\PY{n}{kwargs}\PY{p}{)}
                    \PY{k}{for} \PY{n}{line} \PY{o+ow}{in} \PY{n}{lines}\PY{p}{:}
                        \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{\PYZus{}close\PYZus{}line}\PY{p}{(}\PY{n}{line}\PY{p}{)}
        
                \PY{k}{def} \PY{n+nf}{\PYZus{}close\PYZus{}line}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{line}\PY{p}{)}\PY{p}{:}
                    \PY{n}{x}\PY{p}{,} \PY{n}{y} \PY{o}{=} \PY{n}{line}\PY{o}{.}\PY{n}{get\PYZus{}data}\PY{p}{(}\PY{p}{)}
                    \PY{c+c1}{\PYZsh{} FIXME: markers at x[0], y[0] get doubled\PYZhy{}up}
                    \PY{k}{if} \PY{n}{x}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{o}{!=} \PY{n}{x}\PY{p}{[}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{:}
                        \PY{n}{x} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{concatenate}\PY{p}{(}\PY{p}{(}\PY{n}{x}\PY{p}{,} \PY{p}{[}\PY{n}{x}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{]}\PY{p}{)}\PY{p}{)}
                        \PY{n}{y} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{concatenate}\PY{p}{(}\PY{p}{(}\PY{n}{y}\PY{p}{,} \PY{p}{[}\PY{n}{y}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{]}\PY{p}{)}\PY{p}{)}
                        \PY{n}{line}\PY{o}{.}\PY{n}{set\PYZus{}data}\PY{p}{(}\PY{n}{x}\PY{p}{,} \PY{n}{y}\PY{p}{)}
        
                \PY{k}{def} \PY{n+nf}{set\PYZus{}varlabels}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{labels}\PY{p}{)}\PY{p}{:}
                    \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{set\PYZus{}thetagrids}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{degrees}\PY{p}{(}\PY{n}{theta}\PY{p}{)}\PY{p}{,} \PY{n}{labels}\PY{p}{)}
        
                \PY{k}{def} \PY{n+nf}{\PYZus{}gen\PYZus{}axes\PYZus{}patch}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{)}\PY{p}{:}
                    \PY{k}{return} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{draw\PYZus{}patch}\PY{p}{(}\PY{p}{)}
        
                \PY{k}{def} \PY{n+nf}{\PYZus{}gen\PYZus{}axes\PYZus{}spines}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{)}\PY{p}{:}
                    \PY{k}{if} \PY{n}{frame} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{circle}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}
                        \PY{k}{return} \PY{n}{PolarAxes}\PY{o}{.}\PY{n}{\PYZus{}gen\PYZus{}axes\PYZus{}spines}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{)}
                    \PY{c+c1}{\PYZsh{} The following is a hack to get the spines (i.e. the axes frame)}
                    \PY{c+c1}{\PYZsh{} to draw correctly for a polygon frame.}
        
                    \PY{c+c1}{\PYZsh{} spine\PYZus{}type must be \PYZsq{}left\PYZsq{}, \PYZsq{}right\PYZsq{}, \PYZsq{}top\PYZsq{}, \PYZsq{}bottom\PYZsq{}, or `circle`.}
                    \PY{n}{spine\PYZus{}type} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{circle}\PY{l+s+s1}{\PYZsq{}}
                    \PY{n}{verts} \PY{o}{=} \PY{n}{unit\PYZus{}poly\PYZus{}verts}\PY{p}{(}\PY{n}{theta}\PY{p}{)}
                    \PY{c+c1}{\PYZsh{} close off polygon by repeating first vertex}
                    \PY{n}{verts}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{verts}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
                    \PY{n}{path} \PY{o}{=} \PY{n}{Path}\PY{p}{(}\PY{n}{verts}\PY{p}{)}
        
                    \PY{n}{spine} \PY{o}{=} \PY{n}{Spine}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{spine\PYZus{}type}\PY{p}{,} \PY{n}{path}\PY{p}{)}
                    \PY{n}{spine}\PY{o}{.}\PY{n}{set\PYZus{}transform}\PY{p}{(}\PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{transAxes}\PY{p}{)}
                    \PY{k}{return} \PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{polar}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{spine}\PY{p}{\PYZcb{}}
        
            \PY{n}{register\PYZus{}projection}\PY{p}{(}\PY{n}{RadarAxes}\PY{p}{)}
            \PY{k}{return} \PY{n}{theta}
        
        \PY{k}{def} \PY{n+nf}{unit\PYZus{}poly\PYZus{}verts}\PY{p}{(}\PY{n}{theta}\PY{p}{)}\PY{p}{:}
            \PY{l+s+sd}{\PYZdq{}\PYZdq{}\PYZdq{}Return vertices of polygon for subplot axes.}
        
        \PY{l+s+sd}{    This polygon is circumscribed by a unit circle centered at (0.5, 0.5)}
        \PY{l+s+sd}{    \PYZdq{}\PYZdq{}\PYZdq{}}
            \PY{n}{x0}\PY{p}{,} \PY{n}{y0}\PY{p}{,} \PY{n}{r} \PY{o}{=} \PY{p}{[}\PY{l+m+mf}{0.5}\PY{p}{]} \PY{o}{*} \PY{l+m+mi}{3}
            \PY{n}{verts} \PY{o}{=} \PY{p}{[}\PY{p}{(}\PY{n}{r}\PY{o}{*}\PY{n}{np}\PY{o}{.}\PY{n}{cos}\PY{p}{(}\PY{n}{t}\PY{p}{)} \PY{o}{+} \PY{n}{x0}\PY{p}{,} \PY{n}{r}\PY{o}{*}\PY{n}{np}\PY{o}{.}\PY{n}{sin}\PY{p}{(}\PY{n}{t}\PY{p}{)} \PY{o}{+} \PY{n}{y0}\PY{p}{)} \PY{k}{for} \PY{n}{t} \PY{o+ow}{in} \PY{n}{theta}\PY{p}{]}
            \PY{k}{return} \PY{n}{verts}
\end{Verbatim}

    In the cell below, a code for gneration of the data source is provided.
Moreover, a example usage of the API above is listed (REMOVE IT LATER
WHEN YOU'RE DONE)

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{k+kn}{from} \PY{n+nn}{math} \PY{k+kn}{import} \PY{n}{pi}
         
         \PY{n}{theta} \PY{o}{=} \PY{n}{radar\PYZus{}factory}\PY{p}{(}\PY{l+m+mi}{48}\PY{p}{,} \PY{n}{frame}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{polygon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{fig}\PY{p}{,} \PY{n}{axes} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplots}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{15}\PY{p}{)}\PY{p}{,} \PY{n}{nrows}\PY{o}{=}\PY{l+m+mi}{2}\PY{p}{,} \PY{n}{ncols}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,}
                                  \PY{n}{subplot\PYZus{}kw}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}\PY{n}{projection}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{radar}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         \PY{n}{fig}\PY{o}{.}\PY{n}{subplots\PYZus{}adjust}\PY{p}{(}\PY{n}{wspace}\PY{o}{=}\PY{l+m+mf}{0.25}\PY{p}{,} \PY{n}{hspace}\PY{o}{=}\PY{l+m+mf}{0.20}\PY{p}{,} \PY{n}{top}\PY{o}{=}\PY{l+m+mf}{0.85}\PY{p}{,} \PY{n}{bottom}\PY{o}{=}\PY{l+m+mf}{0.05}\PY{p}{)}
         \PY{n}{colors} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}ff0000}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}ff8800}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}ffff00}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}88ff00}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}00ff00}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}00ff88}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}00ffff}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}0088ff}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}0000ff}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}8800ff}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}ff00ff}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}ff0088}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         
         \PY{k}{for} \PY{n}{dataset}\PY{p}{,} \PY{n}{ax} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{p}{[}\PY{n}{with\PYZus{}age}\PY{p}{,}\PY{n}{with\PYZus{}age\PYZus{}and\PYZus{}gender}\PY{p}{]}\PY{p}{,}\PY{n}{axes}\PY{o}{.}\PY{n}{flatten}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{:}
             \PY{n}{plottable} \PY{o}{=} \PY{n}{dataset}\PY{o}{.}\PY{n}{select}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{x} \PY{o+ow}{in} \PY{p}{(}\PY{p}{[}\PY{n}{x}\PY{o}{+}\PY{n+nb}{str}\PY{p}{(}\PY{n}{y}\PY{p}{)} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{RIASEC}\PY{l+s+s1}{\PYZsq{}} \PY{k}{for} \PY{n}{y} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{9}\PY{p}{)} \PY{p}{]}\PY{o}{+}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
             \PY{n}{plottable}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{=}\PY{n}{plottable}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{map}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:}\PY{n+nb}{int}\PY{p}{(}\PY{p}{(}\PY{n}{x}\PY{o}{\PYZhy{}}\PY{l+m+mi}{10}\PY{p}{)}\PY{o}{/}\PY{l+m+mi}{6}\PY{p}{)}\PY{p}{)}
             \PY{n}{plottable} \PY{o}{=} \PY{n}{plottable}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
             \PY{n}{spoke\PYZus{}labels} \PY{o}{=} \PY{p}{[}\PY{n}{x} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n}{plottable}\PY{o}{.}\PY{n}{transpose}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{index}\PY{p}{]} \PY{c+c1}{\PYZsh{}?? \PYZhy{} for sure?}
         
             \PY{k}{for} \PY{n}{idx}\PY{p}{,}\PY{n}{color} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{p}{[}\PY{n}{x} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n}{plottable}\PY{o}{.}\PY{n}{index}\PY{p}{]}\PY{p}{,}\PY{n}{colors}\PY{p}{)}\PY{p}{:}
                 \PY{n}{case\PYZus{}data} \PY{o}{=} \PY{n}{plottable}\PY{o}{.}\PY{n}{select}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{x} \PY{o+ow}{in} \PY{p}{[}\PY{n}{idx}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{as\PYZus{}matrix}\PY{p}{(}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}
                 \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{theta}\PY{p}{,}\PY{n}{case\PYZus{}data}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{n}{color}\PY{p}{)}
                 \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}varlabels}\PY{p}{(}\PY{n}{spoke\PYZus{}labels}\PY{p}{)}
             \PY{c+c1}{\PYZsh{} add legend relative to top\PYZhy{}left plot}
             \PY{n}{labels} \PY{o}{=} \PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZob{}\PYZcb{}\PYZhy{}\PYZob{}\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{l+m+mi}{6}\PY{o}{*}\PY{n}{x}\PY{o}{+}\PY{l+m+mi}{10}\PY{p}{,}\PY{l+m+mi}{6}\PY{o}{*}\PY{n}{x}\PY{o}{+}\PY{l+m+mi}{15}\PY{p}{)} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n}{plottable}\PY{o}{.}\PY{n}{index}\PY{p}{]}
             \PY{n}{legend} \PY{o}{=} \PY{n}{ax}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{n}{labels}\PY{p}{,} \PY{n}{loc}\PY{o}{=}\PY{p}{(}\PY{l+m+mf}{0.9}\PY{p}{,} \PY{o}{.}\PY{l+m+mi}{95}\PY{p}{)}\PY{p}{,}
                                \PY{n}{labelspacing}\PY{o}{=}\PY{l+m+mf}{0.1}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{small}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
         
         \PY{n}{theta} \PY{o}{=} \PY{n}{radar\PYZus{}factory}\PY{p}{(}\PY{l+m+mi}{48}\PY{p}{,} \PY{n}{frame}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{polygon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{fig}\PY{p}{,} \PY{n}{axes} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplots}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{15}\PY{p}{)}\PY{p}{,} \PY{n}{nrows}\PY{o}{=}\PY{l+m+mi}{4}\PY{p}{,} \PY{n}{ncols}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,}
                                  \PY{n}{subplot\PYZus{}kw}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}\PY{n}{projection}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{radar}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         \PY{n}{fig}\PY{o}{.}\PY{n}{subplots\PYZus{}adjust}\PY{p}{(}\PY{n}{wspace}\PY{o}{=}\PY{l+m+mf}{0.25}\PY{p}{,} \PY{n}{hspace}\PY{o}{=}\PY{l+m+mf}{0.20}\PY{p}{,} \PY{n}{top}\PY{o}{=}\PY{l+m+mf}{0.85}\PY{p}{,} \PY{n}{bottom}\PY{o}{=}\PY{l+m+mf}{0.05}\PY{p}{)}
         \PY{n}{colors} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}ff0000}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}ff8800}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}ffff00}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}88ff00}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}00ff00}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}00ff88}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}00ffff}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}0088ff}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}0000ff}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}8800ff}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}ff00ff}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}ff0088}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         
         
         \PY{n}{plottable} \PY{o}{=} \PY{n}{with\PYZus{}age\PYZus{}and\PYZus{}gender}\PY{o}{.}\PY{n}{select}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{x} \PY{o+ow}{in} \PY{p}{(}\PY{p}{[}\PY{n}{x}\PY{o}{+}\PY{n+nb}{str}\PY{p}{(}\PY{n}{y}\PY{p}{)} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{RIASEC}\PY{l+s+s1}{\PYZsq{}} \PY{k}{for} \PY{n}{y} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{9}\PY{p}{)} \PY{p}{]}\PY{o}{+}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
         \PY{n}{plottable}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{=}\PY{n}{plottable}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{map}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:}\PY{n+nb}{int}\PY{p}{(}\PY{p}{(}\PY{n}{x}\PY{o}{\PYZhy{}}\PY{l+m+mi}{10}\PY{p}{)}\PY{o}{/}\PY{l+m+mi}{6}\PY{p}{)}\PY{p}{)}
         \PY{n}{plottable} \PY{o}{=} \PY{n}{plottable}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
         \PY{n}{spoke\PYZus{}labels} \PY{o}{=} \PY{p}{[}\PY{n}{x} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n}{plottable}\PY{o}{.}\PY{n}{transpose}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{index}\PY{p}{]} \PY{c+c1}{\PYZsh{}?? \PYZhy{} for sure?}
         
         \PY{k}{for} \PY{n}{idx}\PY{p}{,}\PY{n}{color}\PY{p}{,}\PY{n}{ax}\PY{p}{,}\PY{n}{num} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{p}{[}\PY{n}{x} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n}{plottable}\PY{o}{.}\PY{n}{index}\PY{p}{]}\PY{p}{,}\PY{n}{colors}\PY{p}{,}\PY{n}{axes}\PY{o}{.}\PY{n}{flatten}\PY{p}{(}\PY{p}{)}\PY{p}{,}\PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{12}\PY{p}{)}\PY{p}{)}\PY{p}{:}
             \PY{n}{case\PYZus{}data} \PY{o}{=} \PY{n}{plottable}\PY{o}{.}\PY{n}{select}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{x} \PY{o+ow}{in} \PY{p}{[}\PY{n}{idx}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{as\PYZus{}matrix}\PY{p}{(}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}
             \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{theta}\PY{p}{,}\PY{n}{case\PYZus{}data}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{n}{color}\PY{p}{)}
             \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}varlabels}\PY{p}{(}\PY{n}{spoke\PYZus{}labels}\PY{p}{)}
             \PY{n}{labels}\PY{o}{=}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZob{}\PYZcb{}\PYZhy{}\PYZob{}\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{l+m+mi}{6}\PY{o}{*}\PY{n}{num}\PY{o}{+}\PY{l+m+mi}{10}\PY{p}{,}\PY{l+m+mi}{6}\PY{o}{*}\PY{n}{num}\PY{o}{+}\PY{l+m+mi}{15}\PY{p}{)}\PY{p}{]}
             \PY{n}{legend} \PY{o}{=} \PY{n}{ax}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{n}{labels}\PY{p}{,} \PY{n}{loc}\PY{o}{=}\PY{p}{(}\PY{l+m+mf}{0.9}\PY{p}{,} \PY{o}{.}\PY{l+m+mi}{95}\PY{p}{)}\PY{p}{,}
                                \PY{n}{labelspacing}\PY{o}{=}\PY{l+m+mf}{0.1}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{small}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
             
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{EDA_files/EDA_15_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{EDA_files/EDA_15_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    Gender and age profile of respondents from Poland and Europe:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{n}{df}\PY{o}{.}\PY{n}{query}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{country == }\PY{l+s+se}{\PYZbs{}\PYZsq{}}\PY{l+s+s1}{PL}\PY{l+s+se}{\PYZbs{}\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}

            \begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}10}]:}       implementation  R1  R2  R3  R4  R5  R6  R7  R8  I1 {\ldots}   C5  C6  C7  C8  \textbackslash{}
         532                2   4   1   3   4   2   2   3   1   4 {\ldots}    3   3   3   2   
         610                2   4   3   3   3   2   4   3   3   3 {\ldots}    5   4   2   3   
         667                2   2   1   1   1   1   1   1   1   3 {\ldots}    3   1   2   3   
         1519               2   4   3   3   5   3   3   4   3   5 {\ldots}    3   3   1   1   
         3704               2   4   1   2   3   2   3   3   2   5 {\ldots}    5   5   3   4   
         4152               2   4   3   4   4   1   4   1   3   5 {\ldots}    3   3   2   2   
         4184               2   2   2   3   3   2   3   3   4   2 {\ldots}    5   4   5   5   
         4666               2   1   1   1   1   1   1   1   1   2 {\ldots}    2   2   2   1   
         4730               2   1   1   1   1   1   1   1   1   5 {\ldots}    4   4   1   1   
         5696               2   1   1   1   1   1   1   1   1   2 {\ldots}    3   3   3   3   
         5916               2   1   1   1   1   1   1  -1   1   2 {\ldots}    4   2   2   1   
         6634               2   3   4   5   4   2   4   4   4   4 {\ldots}    4   3   4   4   
         7064               1   1   1   1   1   1   1   1   1   4 {\ldots}    1   1   1   1   
         7546               1   5   1   1   1   1   1   1   1   5 {\ldots}    4   4   3   4   
         7587               1   3   1   1   1   1   1   1   1   3 {\ldots}    5   3   5   3   
         8453               1   1   4   3   2   1   4   1   1   4 {\ldots}    4   3   3   3   
         8549               1   3   4   2   4   4   4   4   4   3 {\ldots}    1   1   1   1   
         8553               1   1   1   1   2   1   2   2   1   1 {\ldots}    3   3   2   3   
         8631               1   3   1   4   4   2   4   3   2   4 {\ldots}    5   5   4   3   
         8632               1   5   4   5   5   5   4   5   4   4 {\ldots}    5   4   3   4   
         8687               1   3   3   2   3   1   1   1   1   1 {\ldots}    5   3   3   3   
         8696               1   1   1   1   1   1   2   1   1   4 {\ldots}    2   1   1   1   
         
               accuracy  elapse  country  fromsearch  gender  age  
         532         85     194       PL           1      -1   -1  
         610         50    2687       PL           0      -1   -1  
         667        100     376       PL           0      -1   -1  
         1519        80     130       PL           1      -1   -1  
         3704       100     260       PL           0      -1   -1  
         4152        80     161       PL           0      -1   -1  
         4184       100     417       PL           0      -1   -1  
         4666        96     537       PL           0      -1   -1  
         4730        90     251       PL           1      -1   -1  
         5696        95    1113       PL           1      -1   -1  
         5916        90     258       PL           0      -1   -1  
         6634        50     269       PL           0      -1   -1  
         7064        -1      -1       PL           0       1   20  
         7546        -1      -1       PL           0       2   29  
         7587        -1      -1       PL           1       2   22  
         8453        -1      -1       PL           0       2   28  
         8549        -1      -1       PL           1       1   33  
         8553        -1      -1       PL           0       2   17  
         8631        -1      -1       PL           0       2   32  
         8632        -1      -1       PL           0       1   23  
         8687        -1      -1       PL           1       1   31  
         8696        -1      -1       PL           1       1   36  
         
         [22 rows x 55 columns]
\end{Verbatim}
        
    Sex and age information for Polish responders are limited, therefore we
cannot build datasets that are similar to Polish in this case. As a rule
of thumb, we can select datasets, that have balanced gender quotas.

    {Preparing data for
modeling}\label{preparing-data-for-modeling}

    Choice of datasets: * random sample * european with the same preference
as Poland * european with roughly equal gender distribution * random
sample with feature selection * ranks rearranged with the clustering
algorithm

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{k+kn}{from} \PY{n+nn}{copy} \PY{k+kn}{import} \PY{n}{deepcopy}
         
         \PY{k}{def} \PY{n+nf}{classify}\PY{p}{(}\PY{n}{x}\PY{p}{)}\PY{p}{:}
             \PY{n}{x} \PY{o}{=} \PY{n}{deepcopy}\PY{p}{(}\PY{n}{x}\PY{p}{)}
             \PY{n}{x}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{R}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{x}\PY{o}{.}\PY{n}{R1} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{R2} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{R3} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{R4} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{R5} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{R6} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{R7} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{R8}\PY{p}{)}
             \PY{n}{x}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{I}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{x}\PY{o}{.}\PY{n}{I1} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{I2} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{I3} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{I4} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{I5} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{I6} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{I7} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{I8}\PY{p}{)}
             \PY{n}{x}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{A}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{x}\PY{o}{.}\PY{n}{A1} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{A2} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{A3} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{A4} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{A5} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{A6} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{A7} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{A8}\PY{p}{)}
             \PY{n}{x}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{S}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{x}\PY{o}{.}\PY{n}{S1} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{S2} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{S3} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{S4} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{S5} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{S6} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{S7} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{S8}\PY{p}{)}
             \PY{n}{x}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{E}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{x}\PY{o}{.}\PY{n}{E1} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{E2} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{E3} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{E4} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{E5} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{E6} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{E7} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{E8}\PY{p}{)}
             \PY{n}{x}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{C}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{x}\PY{o}{.}\PY{n}{C1} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{C2} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{C3} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{C4} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{C5} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{C6} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{C7} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{C8}\PY{p}{)}
             \PY{n}{x}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Strength}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{x}\PY{o}{.}\PY{n}{select}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{x} \PY{o+ow}{in} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{RIASEC}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{idxmax}\PY{p}{(}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
             \PY{k}{return} \PY{n}{x}\PY{o}{.}\PY{n}{select}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{x} \PY{o+ow}{not} \PY{o+ow}{in} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{RIASEC}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
         
         \PY{n}{dc} \PY{o}{=} \PY{n}{classify}\PY{p}{(}\PY{n}{df}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}Random sample}
         \PY{k+kn}{import} \PY{n+nn}{numpy.random}
         \PY{n}{randlist} \PY{o}{=} \PY{n}{numpy}\PY{o}{.}\PY{n}{random}\PY{o}{.}\PY{n}{randint}\PY{p}{(}\PY{n}{dc}\PY{o}{.}\PY{n}{count}\PY{p}{(}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{,}\PY{n}{size}\PY{o}{=}\PY{l+m+mi}{1000}\PY{p}{)}
         \PY{n}{random\PYZus{}sample} \PY{o}{=} \PY{n}{dc}\PY{o}{.}\PY{n}{select}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{x} \PY{o+ow}{in} \PY{n}{randlist}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}same\PYZus{}preference}
         \PY{n}{indices} \PY{o}{=} \PY{n}{dfeu}\PY{p}{[}\PY{n}{dfeu}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Strength}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{o}{==}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{I}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}
         \PY{n}{same\PYZus{}preference} \PY{o}{=} \PY{n}{dc}\PY{o}{.}\PY{n}{query}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{country in @indices}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}equal\PYZus{}genders}
         \PY{n}{dgend} \PY{o}{=} \PY{n}{deepcopy}\PY{p}{(}\PY{n}{dc}\PY{p}{)}
         \PY{n}{dgend}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{male}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{=}\PY{n}{dgend}\PY{o}{.}\PY{n}{gender}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:}\PY{l+m+mi}{1} \PY{k}{if} \PY{n}{x}\PY{o}{==}\PY{l+m+mi}{2} \PY{k}{else} \PY{l+m+mi}{0}\PY{p}{)}
         \PY{n}{dgend}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{female}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{=}\PY{n}{dgend}\PY{o}{.}\PY{n}{gender}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:}\PY{l+m+mi}{1} \PY{k}{if} \PY{n}{x}\PY{o}{==}\PY{l+m+mi}{1} \PY{k}{else} \PY{l+m+mi}{0}\PY{p}{)}
         \PY{n}{dgend} \PY{o}{=} \PY{n}{dgend}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{country}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{query}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{0.75 \PYZlt{} male/female \PYZlt{} 1.2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{indices}\PY{o}{=}\PY{n}{dgend}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}
         \PY{n}{equal\PYZus{}genders} \PY{o}{=} \PY{n}{dc}\PY{o}{.}\PY{n}{query}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{country in @indices}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}

    Feature selection can be performed by picking questions with higher
variance, however for ordered data the variance may not be used freely.
Another approach is to use autocorrelation of the dataset to determine
the redundant questions. Note that for those items non-linear
correlation coefficients are applicable (Spearman?)

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}12}]:} \PY{n}{stdf} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{select}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:}\PY{n}{x} \PY{o+ow}{in} \PY{p}{[}\PY{n}{x}\PY{o}{+}\PY{n+nb}{str}\PY{p}{(}\PY{n}{y}\PY{p}{)} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{RIASEC}\PY{l+s+s2}{\PYZdq{}} \PY{k}{for} \PY{n}{y} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{9}\PY{p}{)}\PY{p}{]}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{std}\PY{p}{(}\PY{p}{)}
         \PY{n}{top\PYZus{}features} \PY{o}{=} \PY{n}{stdf}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{n}{ascending}\PY{o}{=}\PY{n+nb+bp}{False}\PY{p}{)}\PY{p}{[}\PY{p}{:}\PY{l+m+mi}{30}\PY{p}{]}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}
         \PY{n}{dg} \PY{o}{=} \PY{n}{deepcopy}\PY{p}{(}\PY{n}{dc}\PY{p}{)}
         \PY{n}{picked\PYZus{}features} \PY{o}{=} \PY{n}{dg}\PY{o}{.}\PY{n}{select}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:}\PY{n}{x} \PY{o+ow}{in} \PY{p}{(}\PY{n}{top\PYZus{}features}\PY{o}{+}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Strength}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
         \PY{k}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Top features: }\PY{l+s+s2}{\PYZdq{}}\PY{o}{+}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{, }\PY{l+s+s2}{\PYZdq{}}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{top\PYZus{}features}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
Top features: A5, A7, A4, A6, A3, A2, A8, I8, I3, I5, I4, I6, S6, A1, S3, S5, E5, I7, S4, C5, S7, S1, E8, I2, R4, R6, E3, I1, S8, R1

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}13}]:} \PY{k+kn}{from} \PY{n+nn}{sklearn.cluster} \PY{k+kn}{import} \PY{n}{KMeans}
         \PY{n}{clf} \PY{o}{=} \PY{n}{KMeans}\PY{p}{(}\PY{n}{n\PYZus{}clusters}\PY{o}{=}\PY{l+m+mi}{6}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{df}\PY{o}{.}\PY{n}{select}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:}\PY{n}{x} \PY{o+ow}{in} \PY{p}{[}\PY{n}{x}\PY{o}{+}\PY{n+nb}{str}\PY{p}{(}\PY{n}{y}\PY{p}{)} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{RIASEC}\PY{l+s+s2}{\PYZdq{}} \PY{k}{for} \PY{n}{y} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{9}\PY{p}{)}\PY{p}{]}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{)}
         \PY{n}{clustered} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{select}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:}\PY{n}{x} \PY{o+ow}{in} \PY{p}{[}\PY{n}{x}\PY{o}{+}\PY{n+nb}{str}\PY{p}{(}\PY{n}{y}\PY{p}{)} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{RIASEC}\PY{l+s+s2}{\PYZdq{}} \PY{k}{for} \PY{n}{y} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{9}\PY{p}{)}\PY{p}{]}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
         \PY{n}{clustered}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Strength}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{clf}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{clustered}\PY{p}{)}
         \PY{n}{clustered}
\end{Verbatim}

            \begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}13}]:}       R1  R2  R3  R4  R5  R6  R7  R8  I1  I2    {\ldots}     E8  C1  C2  C3  C4  \textbackslash{}
         0      3   1   4   2   1   2   1   1   5   4    {\ldots}      4   1   1   1   1   
         1      1   1   1   1   1   1   1   1   4   4    {\ldots}      1   1   1   1   1   
         2      3   2   1   1   1   1   2   1   5   2    {\ldots}      2   4   3   2   3   
         3      3   2   1   2   2   3   1   2   5   4    {\ldots}      2   2   4   3   2   
         4     -1   2   3   2   3   2   1   3   5   2    {\ldots}      2   3   4   4   2   
         5      3   1   3   4   3   4   3   3   3   4    {\ldots}      4   3   4   3   3   
         6      1   1   1   1   1   1   1   1   2   3    {\ldots}      5   1   1   1   1   
         7      1   1   1   1   1   1   1   1   1   2    {\ldots}      5   1   1   1   1   
         8      4   4   3   4   3   4   3   4   2   2    {\ldots}      3   1   2   1   1   
         9      5   5   1   4   2   5   5   4   5   5    {\ldots}      3   1   2   1   1   
         10     4   2   2   1   1   4   1   4   5   5    {\ldots}      2   1   1   2   1   
         11     4   4   2   4   3   3   3   2   3   4    {\ldots}      4   4   4   4   4   
         12     3   4   1   4   1   4   4   2   2   4    {\ldots}      5   1   1   4   3   
         13     4   2   4   4   3   4   4   3   4   2    {\ldots}      4   4   4   4   4   
         14     1   1   4   4   1   1   1   1   5   4    {\ldots}      1   1   1   2   1   
         15     2   4   3   2   2   2   3   2   1   4    {\ldots}      3   3   2   4   4   
         16     1   1   2   2   1   1   2   1   1   1    {\ldots}      2   2   2   2   2   
         17     1   3   1   2   1   2   1   2   4   4    {\ldots}      5   1   1   1   1   
         18     4   1   1   2   1   1   1   1   5   5    {\ldots}      5   1   1   1   1   
         19     2   5   4   3   1   3   4   4   5   5    {\ldots}      1   1   3   2   2   
         20     1   1   1   1   1   1   1   1   1   1    {\ldots}      3   1   1   1   2   
         21     1   2   1   1   1   2   1   1   5   5    {\ldots}      2   2   1   2   2   
         22     4   1   1   3   1   2   2   1   3   1    {\ldots}      5   4   4   4   4   
         23     1   1   1   1   1   1   1   1   4   1    {\ldots}      1   1   1   1   1   
         24     5   1   3   1  -1   2   3   1   5   5    {\ldots}      2   1   1   1   3   
         25     1   1   1   1   1   1   1   1   3   5    {\ldots}      4   1   1   1   1   
         26     1   2   1   1   1   1   1   1   3   3    {\ldots}      4   4   2   3   4   
         27     2   2   1   4   2   3   2   2   5   4    {\ldots}      4   2   2   2   2   
         28     1   3   3   1   2   3   2   2   3   5    {\ldots}      3   1   1   1   2   
         29     4   3   1   2   4   4   4   4   3   2    {\ldots}      4   3   3   4   4   
         {\ldots}   ..  ..  ..  ..  ..  ..  ..  ..  ..  ..    {\ldots}     ..  ..  ..  ..  ..   
         8825   4   3   1   1   1   5   3   4   4   4    {\ldots}      4   1   2   2   2   
         8826   3   1   3   1   1   1   1   2   2   5    {\ldots}      4   1   3   2   2   
         8827   4   4   3   4   4   3   3   3   4   3    {\ldots}      3   3   4   2   3   
         8828   3   1   1   1   1   1   1  -1   5   4    {\ldots}      1   1   1   1   1   
         8829   1   3   1   1   1   2   1   2   3   4    {\ldots}      3   1   1   1   1   
         8830   1   1   1   1   1   1   1   1   1   5    {\ldots}      1   1   1   1   1   
         8831   1   1   1   1   1   3   1   1   4   3    {\ldots}      3   1   2   1   1   
         8832   5   4   4   4   3   4   3   3   5   4    {\ldots}      4   3   3   5   3   
         8833   2   2   3   3   1   4   1   2   4   5    {\ldots}      4   1   1   1   3   
         8834   4   4   5   2   3   3   3   3   5   4    {\ldots}      5   5   4   4   2   
         8835   1   1   1   1   1   1   1   2   1   5    {\ldots}      2   4   4   4   5   
         8836   3   3   4   2   3   4   3   3   3   2    {\ldots}      3   3   3   3   3   
         8837   3   3   3   3   3   3   3   3   3   3    {\ldots}      3   3   3   3   3   
         8838   2   2   1   2   1   2   2   2   4   2    {\ldots}      3   1   3   2   3   
         8839   1   1   1   1   1   1   1   1   1   1    {\ldots}      1   1   1   1   1   
         8840   2   2   2   2   1   3   1   2   4   4    {\ldots}      3   2   2   2   2   
         8841   4   2   3   1   1   2   1   2   4   4    {\ldots}      3   1   2   1   1   
         8842   1   1   1   1   2   1   1   1   1   1    {\ldots}      4   1   2   2   1   
         8843   1   3   1   1   1   4   1   3   3   1    {\ldots}      1   1   1   1   1   
         8844   5   1   1   5   1   1   5   5   5   2    {\ldots}      5   5   2   5   5   
         8845   1   1   5   4   4   1   4   1   1   4    {\ldots}      1   4   5   1   1   
         8846   1   2   1   1   1   2   1   1   4   3    {\ldots}      2   3   1   2   1   
         8847   1   1   1   1   1   1   1   1   2   1    {\ldots}      1   1   1   1   2   
         8848   4   4   2   4   3   4   3   4   5   4    {\ldots}      4   2   3   2   3   
         8849   3   3   1   4   2   2   2   1   5   5    {\ldots}      1   2   1   2   2   
         8850   2   2   4   1   1  -1   3   2   4   3    {\ldots}      3   1   1   1   1   
         8851   3   2   3   4   3   2   2   2   3   3    {\ldots}      3   3   4   5   3   
         8852   4   3   3   3   2   2   1   2   5   5    {\ldots}      4   1   2   2   1   
         8853   4   4   3   5   4   5   3   4   5   4    {\ldots}      4   3   5   5   4   
         8854   4   2   4   4   1   4   2   3   4   5    {\ldots}      1   1   1   1   1   
         
               C5  C6  C7  C8  Strength  
         0      2   1   1   2         0  
         1      1   1   1   1         1  
         2      3   4   4   4         3  
         3      1   3   2   1         0  
         4      4   3   3   3         2  
         5      3   3   3   3         2  
         6      1   1   1   1         4  
         7      1   1   1   1         4  
         8      2   2   2   1         5  
         9      1   3   1   1         2  
         10     3   4   1   1         0  
         11     4   3   3   4         3  
         12     4   4   2   2         3  
         13     4   4   4   4         3  
         14     4   3   3   1         2  
         15     4   2   4   2         5  
         16     1   2   2   1         4  
         17     1   2   1   1         0  
         18     2   3   1   2         0  
         19     1   1   2   2         2  
         20     1   1   1   1         1  
         21     2   1   1   1         0  
         22     3   3   2   4         3  
         23     1   1   1   1         1  
         24     1   1   1   2         0  
         25     1   1   1   1         0  
         26     4   4   3   4         3  
         27     3   3   3   2         2  
         28     1   2   1   2         0  
         29     4   5   4   5         3  
         {\ldots}   ..  ..  ..  ..       {\ldots}  
         8825   3   4   2   2         5  
         8826   2   2   2   1         0  
         8827   1   3   1   3         2  
         8828   4   1   1   1         0  
         8829   1   1   1   1         4  
         8830   1   3   1   1         1  
         8831   1   1   1   2         0  
         8832   4   5   3   4         2  
         8833   2   3   3   1         0  
         8834   3   4   5   3         5  
         8835   3   3   2   3         3  
         8836   3   2   3   3         2  
         8837   3   3   3   3         5  
         8838   1   2   2   3         1  
         8839   1   1   1   1         1  
         8840   4   3   2   2         0  
         8841   1   1   1   1         0  
         8842   2   2   2   2         4  
         8843   1   3   1   1         1  
         8844   5   5   5   5         5  
         8845   2   3   1   1         3  
         8846   1   2   1   1         0  
         8847   2   2   2   1         1  
         8848   3   4   1   3         2  
         8849   5   4   2   2         2  
         8850   3   3   2   1         0  
         8851   4   4   3   3         2  
         8852   1   2   1   2         0  
         8853   5   4   3   4         5  
         8854   3   2   1   1         0  
         
         [8855 rows x 49 columns]
\end{Verbatim}
        
    \emph{Sum up creation}

Sanity checks for datasets:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}15}]:} \PY{k}{def} \PY{n+nf}{sanity}\PY{p}{(}\PY{n}{x}\PY{p}{)}\PY{p}{:}
             \PY{n}{x}\PY{o}{=}\PY{n}{deepcopy}\PY{p}{(}\PY{n}{x}\PY{p}{)}
             \PY{n}{x}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{R}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{x}\PY{o}{.}\PY{n}{R1} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{R2} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{R3} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{R4} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{R5} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{R6} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{R7} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{R8}\PY{p}{)}
             \PY{n}{x}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{I}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{x}\PY{o}{.}\PY{n}{I1} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{I2} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{I3} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{I4} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{I5} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{I6} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{I7} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{I8}\PY{p}{)}
             \PY{n}{x}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{A}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{x}\PY{o}{.}\PY{n}{A1} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{A2} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{A3} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{A4} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{A5} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{A6} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{A7} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{A8}\PY{p}{)}
             \PY{n}{x}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{S}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{x}\PY{o}{.}\PY{n}{S1} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{S2} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{S3} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{S4} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{S5} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{S6} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{S7} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{S8}\PY{p}{)}
             \PY{n}{x}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{E}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{x}\PY{o}{.}\PY{n}{E1} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{E2} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{E3} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{E4} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{E5} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{E6} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{E7} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{E8}\PY{p}{)}
             \PY{n}{x}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{C}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{x}\PY{o}{.}\PY{n}{C1} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{C2} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{C3} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{C4} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{C5} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{C6} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{C7} \PY{o}{+} \PY{n}{x}\PY{o}{.}\PY{n}{C8}\PY{p}{)}
             \PY{k}{print}\PY{p}{(}\PY{n}{x}\PY{o}{.}\PY{n}{select}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{x} \PY{o+ow}{in} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{R}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{I}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{A}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{S}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{E}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{C}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{corr}\PY{p}{(}\PY{n}{method}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{spearman}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         
         \PY{n}{sanity}\PY{p}{(}\PY{n}{random\PYZus{}sample}\PY{p}{)}
         \PY{n}{sanity}\PY{p}{(}\PY{n}{same\PYZus{}preference}\PY{p}{)}
         \PY{n}{sanity}\PY{p}{(}\PY{n}{equal\PYZus{}genders}\PY{p}{)}
         \PY{n}{sanity}\PY{p}{(}\PY{n}{clustered}\PY{p}{)}
         
         \PY{k}{print}\PY{p}{(}\PY{n+nb}{map}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:}\PY{n}{x}\PY{o}{.}\PY{n}{count}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{select}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:}\PY{n}{x}\PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{R1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}\PY{p}{[}\PY{n}{random\PYZus{}sample}\PY{p}{,}\PY{n}{same\PYZus{}preference}\PY{p}{,}\PY{n}{equal\PYZus{}genders}\PY{p}{,}\PY{n}{clustered}\PY{p}{]}\PY{p}{)}\PY{p}{)}
         
         \PY{n+nb}{map}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:}\PY{n}{x}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{o}{.}\PY{n}{to\PYZus{}csv}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZob{}\PYZcb{}.csv}\PY{l+s+s2}{\PYZdq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{x}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}\PY{p}{)}\PY{p}{,}\PY{n+nb}{enumerate}\PY{p}{(}\PY{p}{[}\PY{n}{random\PYZus{}sample}\PY{p}{,}\PY{n}{same\PYZus{}preference}\PY{p}{,}\PY{n}{equal\PYZus{}genders}\PY{p}{,}\PY{n}{clustered}\PY{p}{,}\PY{n}{picked\PYZus{}features}\PY{p}{]}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
          R         I         A         S         E         C
R  1.000000  0.316133  0.111854  0.066131  0.234008  0.435276
I  0.316133  1.000000  0.334858  0.169745 -0.000281  0.075611
A  0.111854  0.334858  1.000000  0.286929  0.216033 -0.093226
S  0.066131  0.169745  0.286929  1.000000  0.370089  0.108939
E  0.234008 -0.000281  0.216033  0.370089  1.000000  0.426445
C  0.435276  0.075611 -0.093226  0.108939  0.426445  1.000000
          R         I         A         S         E         C
R  1.000000  0.392197  0.093335  0.080263  0.215052  0.476342
I  0.392197  1.000000  0.341903  0.204322  0.031996  0.130974
A  0.093335  0.341903  1.000000  0.367359  0.196295 -0.096838
S  0.080263  0.204322  0.367359  1.000000  0.347138  0.062591
E  0.215052  0.031996  0.196295  0.347138  1.000000  0.428114
C  0.476342  0.130974 -0.096838  0.062591  0.428114  1.000000
          R         I         A         S         E         C
R  1.000000  0.330095  0.114161  0.022075  0.244910  0.447003
I  0.330095  1.000000  0.311654  0.139892  0.043397  0.112865
A  0.114161  0.311654  1.000000  0.292624  0.224672 -0.081070
S  0.022075  0.139892  0.292624  1.000000  0.406622  0.128495
E  0.244910  0.043397  0.224672  0.406622  1.000000  0.443659
C  0.447003  0.112865 -0.081070  0.128495  0.443659  1.000000
          R         I         A         S         E         C
R  1.000000  0.331143  0.119409  0.051537  0.249179  0.463329
I  0.331143  1.000000  0.314317  0.148906  0.021750  0.099953
A  0.119409  0.314317  1.000000  0.301875  0.225229 -0.075600
S  0.051537  0.148906  0.301875  1.000000  0.395553  0.134766
E  0.249179  0.021750  0.225229  0.395553  1.000000  0.446287
C  0.463329  0.099953 -0.075600  0.134766  0.446287  1.000000
[R1    939
dtype: int64, R1    800
dtype: int64, R1    6576
dtype: int64, R1    8855
dtype: int64]

    \end{Verbatim}

            \begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}15}]:} [None, None, None, None, None]
\end{Verbatim}
        
    As it can be seen, pairs R-S, I-E and A-C have the lowest correlations,
which is in line with assumptions of the RIASEC model. In each dataset,
artistic and conventional approaches have negative correlation, which
suggest the starkest opposition of those archetypes. Moreover
similarities between neighbouring types are exhibited, with the
strongest link between realistic and conventional types.

Datasets have varying length and have to be normalized. For each, a
fixed amount of samples will be used for training and cross-validating
the model.

{Conclusions}\label{conclusions}

We've created datasets for the classifier. Moreover, we reduced the
amount of questions, creating more dense dataset. In later stages of the
paper we will assess performances of different classifying techniques.


    % Add a bibliography block to the postdoc
    
    
    
    \end{document}
