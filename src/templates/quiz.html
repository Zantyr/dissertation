<html><head>
<meta charset='utf-8'>
<!--<link type='text/css' rel='stylesheet' href='{{url_for("static",filename="style.css")}}'>!-->
<style>
body{
	padding: 0;
	background: #369;
	font-family:"Comic Sans","Open Sans",sans;
    font-size:42;
}
</style>
<script>
var i = 0;
var answers = []

{{data|safe}}

function question(){
	document.getElementById("question").innerHTML = questions[0];
	document.getElementById("answerA").innerHTML = answersA[0];
	document.getElementById("answerB").innerHTML = answersB[0];
	i = 0;
	answers = [];
}

function indexOfMax(arr) {
    if (arr.length == 0) {
        return -1;
    }
    var max = arr[0];
    var maxIndex = 0;

    for (var l = 1;  l< arr.length; l++) {
        if (arr[l] > max) {
            maxIndex = l;
            max = arr[l];
        }
    }
    return maxIndex;
}

function answerA(){
	i++;
	answers.push('A')
	if (i >= questions.length){
		results();
	}
	document.getElementById("question").innerHTML = questions[i];
	document.getElementById("answerA").innerHTML = answersA[i];
	document.getElementById("answerB").innerHTML = answersB[i];
}

function answerB(){
	i++;
	answers.push('B')
	if (i >= questions.length){
		results();
	}
	document.getElementById("question").innerHTML = questions[i];
	document.getElementById("answerA").innerHTML = answersA[i];
	document.getElementById("answerB").innerHTML = answersB[i];
}

function results(){
    var form = document.createElement("form");
    form.setAttribute("method", "post");
    form.setAttribute("action", "{{target|safe}}");
            var hiddenField = document.createElement("input");
            hiddenField.setAttribute("type", "hidden");
            hiddenField.setAttribute("name", "vector");
            hiddenField.setAttribute("value", answers);
            form.appendChild(hiddenField);
    document.body.appendChild(form);
    form.submit();
}

</script>
</head>

<body>
<div id="maindiv">
	<div id="questionbox" onClick="javascript: question();">
		<div id="question"  onClick="javascript: question();">Click to start</div>
	</div>
	<div id="answerbox">
        <a href='javascript:void(0);'>
		    <div id="answerboxA" onClick="javascript: answerA();">
			    <div id="answerA" class="answerboxgreen"></div>
		    </div>
        </a>
        <a href='javascript:void(0);'>
		    <div id="answerboxB" onClick="javascript: answerB();">
			    <div id="answerB" class="answerboxred"></div>
		    </div>
        </a>
	</div>
</div>
</body></html>
