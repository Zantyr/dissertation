<html><head>
<meta charset='utf-8'>
<style>
body{
	margin: 0;
	padding: 0;
	background: #7ce;
	font-family:"Open Sans",sans;
	height:100vh;}
#sp{
display: block;
width: 100%;
height:10%;
}
#maindiv{
	margin: 0 auto;
	padding:0;
	width:50em;
	height:30em;
	background:#eee;
	border: 0;
	border-radius: 5px;}
#questionbox{
	margin: 1em 0 -1em 0 ;
	padding: 0;
	9background: #47a;
	font-size: 42;
	font-weight: bold;
	width:100%;
	display: inline-block;
	height:45%;
	border: 0;
	border-radius:5px;}
#question{
	text-align: center;
	display:block;
	margin: 0;
	padding: 0;}
a{
	margin: 0;
	padding: 0;
	text-decoration: none;
	color:#000;}
#answerbox{
	margin: 0;
	padding: 0;
	display: block;
	position: relative;
	top: 10%;
	width:95%;
	left:2.5%;
	height:40%;}
#answerboxA{
	margin: 0;
	padding: 0;
	display:block;
	height:50%;
	max-height:50%;
	text-align: center;
	font-size:24;
	font-style: italic;
	background:#da6;}
#answerboxB{
	margin: 0;
	padding: 0;
	display:block;
	height:50%;
	max-height:50%;
	font-style: italic;
	text-align: center;
	font-size:24;
	background:#6da;}
</style>
<script>
var i = 0;
var answers = []

{{data|safe}}

function question(){
	document.getElementById("question").innerHTML = questions[0];
	document.getElementById("answerA").innerHTML = answersA[0];
	document.getElementById("answerB").innerHTML = answersB[0];
	i = 0;
	answers = [];
}

function indexOfMax(arr) {
    if (arr.length == 0) {
        return -1;
    }
    var max = arr[0];
    var maxIndex = 0;

    for (var l = 1;  l< arr.length; l++) {
        if (arr[l] > max) {
            maxIndex = l;
            max = arr[l];
        }
    }
    return maxIndex;
}

function answerA(){
	i++;
	answers.push('A')
	if (i >= questions.length){
		results();
	}
	document.getElementById("question").innerHTML = questions[i];
	document.getElementById("answerA").innerHTML = answersA[i];
	document.getElementById("answerB").innerHTML = answersB[i];
}

function answerB(){
	i++;
	answers.push('B')
	if (i >= questions.length){
		results();
	}
	document.getElementById("question").innerHTML = questions[i];
	document.getElementById("answerA").innerHTML = answersA[i];
	document.getElementById("answerB").innerHTML = answersB[i];
}

function results(){
    var form = document.createElement("form");
    form.setAttribute("method", "post");
    form.setAttribute("action", "{{target|safe}}");
            var hiddenField = document.createElement("input");
            hiddenField.setAttribute("type", "hidden");
            hiddenField.setAttribute("name", "vector");
            hiddenField.setAttribute("value", answers);
            form.appendChild(hiddenField);
    document.body.appendChild(form);
    form.submit();
}

</script>
</head>

<body>
<div id=sp></div>
<div id="maindiv">
	<div id="questionbox" onClick="javascript: question();">
		<div id="question"  onClick="javascript: question();">Click to start</div>
	</div>
	<div id="answerbox">
        <a href='javascript:void(0);'>
		    <div id="answerboxA" onClick="javascript: answerA();">
			    <div id="answerA" class="answerboxgreen"></div>
		    </div>
        </a>
        <a href='javascript:void(0);'>
		    <div id="answerboxB" onClick="javascript: answerB();">
			    <div id="answerB" class="answerboxred"></div>
		    </div>
        </a>
	</div>
</div>
</body></html>
