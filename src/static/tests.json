[{
  "name":"RIASEC example test",
  "datafile":"static/quiz.json",
  "logfile":"static/qviz.tsv",
  "accuracy":true,
  "additional":{
    "age":"textInteger",
    "country":"text",
    "gender":"textInteger"
  },
  "initialize":[
                    ["log","Cluster the dataset before proceeding"],
                    ["$cl",["kmeans",
                            ["drop","df","country","age","gender","elapse","accuracy","fromsearch"],
                            6]],
                    ["log","Sample classifier fitting"],
                    ["$nb",["fit","naiveBayes","E5",["select","df","R1","I2","A3","S4","E5"]]]
               ],
  "reports":[
                 ["safePrint","basic report"],
                 ["bar",["select","df","R1","R3"]]],
  "batch": [
                ["safePrint","<h3>Cluster the data and count the clusers</h3>"],
                ["verticalTable",["count","class","$cl"]],
                ["safePrint","<h3>Describe the clusters</h3>"],
                ["verticalTable",["describe","df"]],
                ["safePrint","<h3>Cluster the data and describe each cluster by question categories</h3>"],
                ["verticalTable",
                 ["describe",
                  ["groupBy","class",
                   ["select",
                    ["map",
                     "$cl",
                "Rclass = (R1 + R2 + R3 + R4 + R5 + R6 + R7 + R8)/8",
                "Iclass = (I1 + I2 + I3 + I4 + I5 + I6 + I7 + I8)/8",
                "Aclass = (A1 + A2 + A3 + A4 + A5 + A6 + A7 + A8)/8",
                "Sclass = (S1 + S2 + S3 + S4 + S5 + S6 + S7 + S8)/8",
                "Eclass = (E1 + E2 + E3 + E4 + E5 + E6 + E7 + E8)/8",
                "Cclass = (C1 + C2 + C3 + C4 + C5 + C6 + C7 + C8)/8"],
                "Rclass","Iclass","Aclass","Sclass","Eclass","Cclass","class"]]]],
                ["safePrint","<b>Get star-plot for the clusters</b>"],
                ["star",["drop","df","country","age","gender","elapse","accuracy","fromsearch"]],
                ["safePrint","<b>Divide by age-classes</b>"],
                ["verticalTable",["mean",["groupBy","accuracy",["select",["map",
                                    "df",
                                    "Rclass = (R1 + R2 + R3 + R4 + R5 + R6 + R7 + R8)/8",
                                    "Iclass = (I1 + I2 + I3 + I4 + I5 + I6 + I7 + I8)/8",
                                    "Aclass = (A1 + A2 + A3 + A4 + A5 + A6 + A7 + A8)/8",
                                    "Sclass = (S1 + S2 + S3 + S4 + S5 + S6 + S7 + S8)/8",
                                    "Eclass = (E1 + E2 + E3 + E4 + E5 + E6 + E7 + E8)/8",
                                    "Cclass = (C1 + C2 + C3 + C4 + C5 + C6 + C7 + C8)/8"
                                   ],"accuracy","Rclass","Iclass","Aclass","Sclass","Eclass","Cclass"]]]]
           ]
}]
